<!doctype html>
<html>

  <head>
    <title>Clay, CSS Preprocessor</title>
    <meta charset='utf-8'>
<meta name="keywords" content="clay, css, stylesheet, preprocessor, haskell" />
<meta name='author' content='Sebastiaan Visser' />
<meta name='description' content='A CSS preprocessor as embedded Haskell' />
<link href=style-compact.css rel=stylesheet type=text/css>
<script src=jquery.js></script>


    <script type="text/javascript" account=laszlito src="http://use.typekit.net/wvl3oox.js"></script>
<!-- <script type="text/javascript" account=sebas src="://use.typekit.net/wvl3oox.js"></script> -->
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <meta name="viewport" content="width=device-width">
  </head>

  <body class=index>
    <div id=container>
      <header>
  <div id=logo>
    <h1><a href=https://github.com/sebastiaanvisser/clay>Cl<span class=a>a</span><span class=y>y<span></a></h1>
    <h2>Unlimited<sup><a href="#footer">*</a></sup> CSS</h2>
  </div>
  <nav>
    <div>
      <a href="#about">About</a>
      <a href="#features">Features</a>
      <a href="#install">Install</a>
      <a href="#documentation">Docs</a>
      <a href="#tutorial">Tutorial</a>
      <a href="#source">Source</a>
    </div>
  </nav>
</header>

      <section id=about name=about>
  <div class=two-col>
    <div class=text>
      <h3>About</h3>
      <p>
        <a href=http://sebastiaanvisser.github.com/clay>Clay</a> is a CSS
        preprocessor like <a href=http://lesscss.org>LESS</a> and <a
        href=http://sass-lang.com>Sass</a>, but implemented as an embedded
        domain specific language (EDSL) in Haskell. This means that all CSS
        selectors and style rules are first class Haskell functions, which
        makes reuse and composability easy.
      </p>
      <p>
        Clay doesn't really use any clever Haskell tricks which makes it easy
        to work with, even without a lot of Haskell experience.
      </p>
    </div>
    <div class=text>
      <h3>In action</h3>
      <div class="code haskell">
        <pre class="sourceCode"><span class="Comment">{-# LANGUAGE</span>
<span class="Comment">    OverloadedStrings</span>
<span class="Comment">  #-}</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">menu</span> <span class="Symbol">::</span> <span class="ConId">Css</span>
<span class="Function">menu</span> <span class="Symbol">=</span> <span class="VarId">header</span> <span class="Symbol">|&gt;</span> <span class="VarId">nav</span> <span class="Symbol">?</span>
 <span class="Keyword">do</span> <span class="VarId">background</span>    <span class="VarId">white</span>
    <span class="VarId">color</span>         <span class="String">&quot;#04a&quot;</span>
    <span class="VarId">fontSize</span>      <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">24</span><span class="Symbol">)</span>
    <span class="VarId">padding</span>       <span class="Number">20</span> <span class="Number">0</span> <span class="Number">20</span> <span class="Number">0</span>
    <span class="VarId">textTransform</span> <span class="VarId">uppercase</span>
    <span class="VarId">position</span>      <span class="VarId">absolute</span>
    <span class="VarId">left</span>          <span class="Number">0</span>
    <span class="VarId">right</span>         <span class="Number">0</span>
    <span class="VarId">bottom</span>        <span class="Symbol">(</span><span class="VarId">px</span> <span class="Symbol">(-</span><span class="Number">72</span><span class="Symbol">))</span>
</pre>
      </div>
    </div>
    <br>
  </div>
</section>

      <section id=features name=features>
  <div class=two-col>
    <div class=text>
      <h3>Features</h3>
      <ul>
        <li>First class style properties.</li>
        <li>First class selectors.</li>
        <li>Typed values.</li>
        <li>Nested style rules.</li>
        <li>Access to outer scopes in nested rules.</li>
        <li>Modules, functions, mixins, etc.</li>
        <li>Support for media queries.</li>
        <li>Size and color arithmetics.</li>
        <li>Recognizable syntax, inspired by CSS.</li>
        <li>Easily extensible with new functionality.</li>
        <li>Near-total coverage of CSS.</li>
        <li>Easy fall-back for uncovered parts.</li>
        <li>Automatic addition of browser prefixes.</li>
        <li>Both pretty and compact output printers.</li>
      </ul>
    </div>
    <div class=text>
      <h3>Futures</h3>
      <p>
        Despite the amazing amount of features, Clay is far from finished and
        needs a lot more work. Most missing features, bugs, and plans for the
        future are documented in a little <code>todo.md</code> file in the
        source repository.
      </p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/blob/master/todo.md>» the todo list</a></p>
      <p>The most important point on the list is to move all the items into
      the issue tracker.</p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/issues?direction=desc&sort=created&state=open>» project issue tracker</a></p>
    </div>
    <br>
  </div>
</section>

      <section id=install name=install>
  <div class="one-col text">
    <h3>Installation</h3>
    <p>
      Clay is written in Haskell and requires the Glasgow Haskell Compiler
      (GHC) to get installed. After installing GHC, and the accompanying package
      manager Cabal, you can directly install Clay from the Hackage package
      repository:
    </p>
    <div class="code shell">
    <pre><span class=Symbol>$</span> cabal update
<span class=Symbol>$</span> cabal install clay</pre>
    </div>
    <h3>Usage</h3>
    <p>
      Clay is written as an embedded language and requires you to write a
      Haskell program that models the stylesheet. You only need to import the
      <code>Clay</code> module to get started. As a first demonstration we
      create the `Hello world' of the stylesheets, a style definition that sets
      the background color of the HTML body to red.
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">::</span> <span class="ConId">IO</span> <span class="Symbol">()</span>
<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="VarId">myStylesheet</span>

<span class="Function">myStylesheet</span> <span class="Symbol">::</span> <span class="ConId">Css</span>
<span class="Function">myStylesheet</span> <span class="Symbol">=</span> <span class="VarId">body</span> <span class="Symbol">?</span> <span class="VarId">background</span> <span class="VarId">red</span>
</pre>
    </div>
    <p>
      Running the <code>putCss</code> function directly outputs the generated
      CSS to the standard output resulting in:
    </p>
    <div class="code css">
      <pre class="sourceCode">body
<span class="CBracket">{</span>
  <span class="Property">background</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
</pre>
    </div>
  </div>
</section>

      <section id=documentation name=documentation>
  <div class="text one-col">
    <h3>API documentation</h3>
    The Clay API documentation can be found on Hackage. For most uses only the
    <code>Clay</code> top level module is of any relevance. It re-exports all
    the code that is needed to write your stylesheet.</p>
    <p class=goto><a href=http://hackage.haskell.org/packages/archive/clay/latest/doc/html/Clay.html>» API documentation</a></p>
  </div>
</section>

      <section id=tutorial name=tutorial>
  <div class="text one-col">
    <h3>Tutorial</h3>
    <p>
      Clay is an EDSL that uses a monad to collect style rules. Rules are
      combinations of CSS selectors with associated style properties. Multiple
      style rules can be composed and nested to form a stylesheet. Stylesheets
      can be rendered to plain old CSS and served to your browser.
    </p>

    <p>
      There are several methods of assigning style properties to selectors.
      The most important one is the <code>?</code> operator:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">body</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="VarId">background</span>  <span class="VarId">black</span>
       <span class="VarId">color</span>       <span class="VarId">green</span>
       <span class="VarId">border</span>      <span class="VarId">dashed</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">2</span><span class="Symbol">)</span> <span class="VarId">yellow</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode">body
<span class="CBracket">{</span>
  <span class="Property">background</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
  <span class="Property">color</span>      <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">128</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
  <span class="Property">border</span>     <span class="Symbol">:</span> dashed <span class="Number">2</span>px rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Style rules can easily be composed and nested by just adding more rules
      using the monad syntax:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="Keyword">do</span> <span class="VarId">p</span> <span class="Symbol">?</span> <span class="VarId">color</span> <span class="VarId">red</span>
     <span class="VarId">b</span> <span class="Symbol">?</span> <span class="VarId">color</span> <span class="VarId">yellow</span>
     <span class="VarId">article</span> <span class="Symbol">?</span>
       <span class="Keyword">do</span> <span class="VarId">strong</span> <span class="Symbol">?</span> <span class="VarId">background</span> <span class="VarId">black</span>
          <span class="VarId">abbr</span>  <span class="Symbol">&lt;?</span> <span class="VarId">fontVariant</span> <span class="VarId">smallCaps</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode">p
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
b
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> strong
<span class="CBracket">{</span>
  <span class="Property">background</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="Symbol">&gt;</span> abbr
<span class="CBracket">{</span>
  <span class="Property">font-variant</span> <span class="Symbol">:</span> small<span class="Symbol">-</span>caps<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Basic selectors can be composed with several combinators to construct
      more complicated selectors:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Data.Monoid</span>
<span class="Keyword">import</span> <span class="ConId">Prelude</span> <span class="Keyword">hiding</span> <span class="Symbol">((**))</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="Symbol">(</span><span class="VarId">body</span> <span class="Symbol">&lt;&gt;</span> <span class="VarId">abbr</span><span class="Symbol">)</span> <span class="Symbol">**</span> <span class="VarId">p</span> <span class="Symbol">|&gt;</span> <span class="Symbol">(</span><span class="VarId">a</span> <span class="Symbol">&lt;&gt;</span> <span class="VarId">b</span><span class="Symbol">)</span> <span class="Symbol">#</span> <span class="VarId">lastOfType</span> <span class="Symbol">?</span>
      <span class="VarId">color</span> <span class="VarId">red</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode"><span class="String">body</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">a</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">body</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">b</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">abbr</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">a</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">abbr</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">b</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span>type
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Using <code>OverloadedStrings</code> allows us to create selectors for
      classes, ids, pseudo classes, attributes etc:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Comment">{-# LANGUAGE OverloadedStrings #-}</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">section</span> <span class="Symbol">#</span> <span class="String">&quot;#open&quot;</span> <span class="Symbol">|&gt;</span> <span class="String">&quot;.link&quot;</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="VarId">textDecoration</span> <span class="VarId">none</span>
       <span class="String">&quot;@href&quot;</span> <span class="Symbol">&amp;</span>
         <span class="Keyword">do</span> <span class="VarId">textDecoration</span> <span class="VarId">underline</span>
            <span class="String">&quot;:hover&quot;</span> <span class="Symbol">&amp;</span> <span class="VarId">fontWeight</span> <span class="VarId">bold</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode"><span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span>
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> none<span class="Symbol">;</span>
<span class="CBracket">}</span>
<span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]</span>
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> underline<span class="Symbol">;</span>
<span class="CBracket">}</span>
<span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]:</span>hover
<span class="CBracket">{</span>
  <span class="Property">font-weight</span> <span class="Symbol">:</span> bold<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Or we can use some build in functions to avoid too much string literals:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Data.Monoid</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">a</span> <span class="Symbol">#</span> <span class="VarId">href</span> <span class="Symbol">#</span> <span class="VarId">hover</span> <span class="Symbol">?</span> <span class="VarId">textDecoration</span> <span class="VarId">none</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode"><span class="String">a</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]:</span>hover
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> none<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Sometimes browsers implement exotic style properties or values that Clay
      doesn't yet know of. For most value type it is easy to supply a custom
      value using the <code>Other</code> type class. We can even escape from
      the typed world entirely by using the fallback operator <code>-:</code>
      and use strings:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Comment">{-# LANGUAGE OverloadedStrings #-}</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">star</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="VarId">color</span> <span class="Symbol">(</span><span class="VarId">other</span> <span class="String">&quot;ultraviolet&quot;</span><span class="Symbol">)</span>
       <span class="String">&quot;-ms-lens-flare-style&quot;</span> <span class="Symbol">-:</span> <span class="String">&quot;really-shiny&quot;</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode"><span class="Symbol">*</span>
<span class="CBracket">{</span>
  <span class="Property">color</span>                <span class="Symbol">:</span> ultraviolet<span class="Symbol">;</span>
  <span class="Symbol">-</span>ms<span class="Symbol">-</span>lens<span class="Symbol">-</span>flare<span class="Symbol">-</span>style <span class="Symbol">:</span> really<span class="Symbol">-</span>shiny<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Not every browser implements the full CSS standard and some browsers
      introduce experimental features that are not yet in the standard. In
      Clay, most experimental properties are automatically prefixed with vendor
      prefixes:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">body</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="Keyword">let</span> <span class="VarId">rot</span> <span class="Symbol">=</span> <span class="VarId">deg</span> <span class="Number">30</span>
       <span class="VarId">transform</span> <span class="Symbol">(</span><span class="VarId">rotateX</span> <span class="VarId">rot</span><span class="Symbol">)</span>
       <span class="VarId">background</span> <span class="Symbol">$</span>
         <span class="VarId">linearGradient</span> <span class="Symbol">(</span><span class="VarId">angular</span> <span class="VarId">rot</span><span class="Symbol">)</span>
           <span class="Symbol">[</span> <span class="Symbol">(</span> <span class="VarId">red</span>    <span class="Symbol">,</span>   <span class="Number">0</span> <span class="Symbol">)</span>
           <span class="Symbol">,</span> <span class="Symbol">(</span> <span class="VarId">yellow</span> <span class="Symbol">,</span>  <span class="Number">40</span> <span class="Symbol">)</span>
           <span class="Symbol">,</span> <span class="Symbol">(</span> <span class="VarId">blue</span>   <span class="Symbol">,</span> <span class="Number">100</span> <span class="Symbol">)</span>
           <span class="Symbol">]</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode">body
<span class="CBracket">{</span>
  <span class="Symbol">-</span>webkit<span class="Symbol">-</span>transform <span class="Symbol">:</span> rotateX<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">);</span>
  <span class="Symbol">-</span>moz<span class="Symbol">-</span>transform    <span class="Symbol">:</span> rotateX<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">);</span>
  <span class="Symbol">-</span>ms<span class="Symbol">-</span>transform     <span class="Symbol">:</span> rotateX<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">);</span>
  <span class="Symbol">-</span>o<span class="Symbol">-</span>transform      <span class="Symbol">:</span> rotateX<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">);</span>
  transform         <span class="Symbol">:</span> rotateX<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">);</span>
  <span class="Property">background</span>        <span class="Symbol">:</span> <span class="Symbol">-</span>webkit<span class="Symbol">-</span>linear<span class="Symbol">-</span>gradient<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">)</span> <span class="Number">100</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%);</span>
  <span class="Property">background</span>        <span class="Symbol">:</span> <span class="Symbol">-</span>moz<span class="Symbol">-</span>linear<span class="Symbol">-</span>gradient<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">)</span> <span class="Number">100</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%);</span>
  <span class="Property">background</span>        <span class="Symbol">:</span> <span class="Symbol">-</span>ms<span class="Symbol">-</span>linear<span class="Symbol">-</span>gradient<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">)</span> <span class="Number">100</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%);</span>
  <span class="Property">background</span>        <span class="Symbol">:</span> <span class="Symbol">-</span>o<span class="Symbol">-</span>linear<span class="Symbol">-</span>gradient<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">)</span> <span class="Number">100</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%);</span>
  <span class="Property">background</span>        <span class="Symbol">:</span> linear<span class="Symbol">-</span>gradient<span class="Symbol">(</span><span class="Number">30</span><span class="Symbol">.</span><span class="Number">0</span>deg<span class="Symbol">,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">)</span> <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%,</span>rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">)</span> <span class="Number">100</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%);</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      Because Clay is just Haskell we can do some really nice tricks that might
      take a lot of effort in other CSS preprocessors. Functions, mixins,
      control structures, colors and size calculation, all is easy. The
      following (somewhat contrived) example shows how to use the
      expressiveness of Haskell to produce more advanced stylesheets:
    </p>
    <div class="code haskell">
      <pre class="sourceCode"><span class="Comment">{-# LANGUAGE OverloadedStrings #-}</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>
<span class="Keyword">import</span> <span class="ConId">Control.Monad</span>
<span class="Keyword">import</span> <span class="ConId">Data.String</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">article</span> <span class="Symbol">?</span> <span class="VarId">forM_</span> <span class="Symbol">[</span><span class="Number">0</span><span class="Symbol">..</span><span class="Number">4</span><span class="Symbol">]</span> <span class="VarId">mySection</span>

<span class="Function">myShade</span> <span class="Symbol">::</span> <span class="ConId">Color</span>
<span class="Function">myShade</span> <span class="Symbol">=</span> <span class="String">&quot;#f80&quot;</span>

<span class="Function">mySection</span> <span class="Symbol">::</span> <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span> <span class="ConId">Css</span>
<span class="Function">mySection</span> <span class="VarId">n</span> <span class="Symbol">=</span>
  <span class="Keyword">let</span> <span class="VarId">idx</span> <span class="Symbol">=</span> <span class="VarId">fromString</span> <span class="Symbol">(</span><span class="VarId">show</span> <span class="VarId">n</span><span class="Symbol">)</span>
   <span class="Keyword">in</span> <span class="VarId">section</span> <span class="Symbol">#</span> <span class="VarId">nthChild</span> <span class="VarId">idx</span> <span class="Symbol">?</span>
      <span class="Keyword">do</span> <span class="VarId">backgroundColor</span> <span class="Symbol">(</span><span class="VarId">setA</span> <span class="Symbol">(</span><span class="VarId">n</span> <span class="Symbol">*</span> <span class="Number">40</span><span class="Symbol">)</span> <span class="VarId">myShade</span><span class="Symbol">)</span>
         <span class="Keyword">let</span> <span class="VarId">w</span> <span class="Symbol">=</span> <span class="Number">20</span> <span class="Symbol">*</span> <span class="VarId">fromIntegral</span> <span class="VarId">n</span>
         <span class="VarId">backgroundSize</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">20</span> <span class="Symbol">`</span><span class="VarId">by</span><span class="Symbol">`</span> <span class="VarId">pct</span> <span class="VarId">w</span><span class="Symbol">)</span>
         <span class="VarId">p</span> <span class="Symbol">?</span> <span class="Keyword">if</span> <span class="VarId">n</span> <span class="Symbol">&gt;</span> <span class="Number">2</span>
               <span class="Keyword">then</span> <span class="VarId">textDecoration</span> <span class="VarId">underline</span>
               <span class="Keyword">else</span> <span class="VarId">color</span> <span class="VarId">yellow</span>
</pre>
    </div>
    <div class="code css">
      <pre class="sourceCode"><span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">0</span><span class="Symbol">)</span>
<span class="CBracket">{</span>
  <span class="Property">background-color</span> <span class="Symbol">:</span> rgba<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">136</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">.</span><span class="Number">0000</span><span class="Symbol">);</span>
  background<span class="Symbol">-</span><span class="Property">size</span>  <span class="Symbol">:</span> <span class="Number">20</span>px <span class="Number">0</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">0</span><span class="Symbol">)</span> p
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">1</span><span class="Symbol">)</span>
<span class="CBracket">{</span>
  <span class="Property">background-color</span> <span class="Symbol">:</span> rgba<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">136</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">.</span><span class="Number">1563</span><span class="Symbol">);</span>
  background<span class="Symbol">-</span><span class="Property">size</span>  <span class="Symbol">:</span> <span class="Number">20</span>px <span class="Number">20</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">1</span><span class="Symbol">)</span> p
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">2</span><span class="Symbol">)</span>
<span class="CBracket">{</span>
  <span class="Property">background-color</span> <span class="Symbol">:</span> rgba<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">136</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">.</span><span class="Number">3125</span><span class="Symbol">);</span>
  background<span class="Symbol">-</span><span class="Property">size</span>  <span class="Symbol">:</span> <span class="Number">20</span>px <span class="Number">40</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">2</span><span class="Symbol">)</span> p
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">3</span><span class="Symbol">)</span>
<span class="CBracket">{</span>
  <span class="Property">background-color</span> <span class="Symbol">:</span> rgba<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">136</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">.</span><span class="Number">4688</span><span class="Symbol">);</span>
  background<span class="Symbol">-</span><span class="Property">size</span>  <span class="Symbol">:</span> <span class="Number">20</span>px <span class="Number">60</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">3</span><span class="Symbol">)</span> p
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> underline<span class="Symbol">;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">4</span><span class="Symbol">)</span>
<span class="CBracket">{</span>
  <span class="Property">background-color</span> <span class="Symbol">:</span> rgba<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">136</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">.</span><span class="Number">6250</span><span class="Symbol">);</span>
  background<span class="Symbol">-</span><span class="Property">size</span>  <span class="Symbol">:</span> <span class="Number">20</span>px <span class="Number">80</span><span class="Symbol">.</span><span class="Number">0</span><span class="Symbol">%;</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="String">section</span><span class="Symbol">:</span><span class="String">nth</span><span class="Symbol">-</span><span class="String">child</span><span class="Symbol">(</span><span class="String">4</span><span class="Symbol">)</span> p
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> underline<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
    </div>

    <p>
      More examples coming soon!
    </p>

  </div>

</section>

      <section id=source name=source>
  <div class=two-col>
    <div class=text>
      <h3>Project source</h3>
      <p>Clay is open source and hosted on GitHub. Every form of
      feedback, pull requests or other participation is more than
      welcome. CSS is a big standard containing lots of official and
      probably even more experimental style properties. Clay's support
      for all those properties is most likely incomplete. Adding new
      properties is easy so let me know if things should be added.</p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay>» project source repository</a></p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/issues?direction=desc&sort=created&state=open>
        » project issue tracker</a>
      </p>
    </div>
    <div class=text>
      <h3>Website source</h3>
      <p>
        Of course, the style sheet of this website is also implemented in Clay.
        You can find the sources in the project source repository on GitHub.
        Feel free to use this page as template for your own projects.
      </p>
      <p class=goto><a href=code.html>» stylesheet source in Clay</a></p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/tree/gh-pages>» website source repository</a></p>
      <h3>Generated CSS</h3>
      <p>
        You can take a look at the generated stylesheet for this website. We
        have both a pretty printed and compacted version, of which the
        compacted version is directly used by this site.
      </p>
      <p class=goto><a href=style-pretty.css>» pretty printed CSS</a></p>
      <p class=goto><a href=style-compact.css>» compacted CSS</a></p>
    </div>
    <br>
  </div>
</section>

      <footer>
  <div name=footer><sup>*</sup>Within reasonable limits only!</div>
</footer>

    </div>
  </body>

  <script src=code.js></script>

</html>
<!-- site generated at Sun Dec 23 13:27:48 CET 2012 -->
